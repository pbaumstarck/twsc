var OAUTH2_CLIENT_ID="147378973529.apps.googleusercontent.com",OAUTH2_SCOPES=["https://www.googleapis.com/auth/youtube"],googleApiClientReady=function(){gapi.client.load("youtube","v3",function(){gapi.client.setApiKey("AIzaSyCGcCoNxZOFFX67nQACx-aXGsu8u3lUBPg")})};
function handleAuthResult(a){console.log("'authResult'?: "+(a?"TRUE":"FALSE"));a?($(".pre-auth").hide(),gapi.client.load("youtube","v3",function(){function b(){$.getJSON("https://gdata.youtube.com/feeds/api/users/default/watch_history?v=2&alt=json&start-index="+(c.length+1)+"&max-results=50&access_token="+a.access_token,function(a){console.log(c);$("#youtube-results").html(c.join(",,,"));0!=a.feed.entry.length&&(console.log(a),$.each(a.feed.entry,function(a,b){c.push(b.title.$t+"::::"+b.updated.$t)}),
b())})}var c=[];b();console.log("Issued query ...")})):$("#login-link").click(function(){gapi.auth.authorize({client_id:OAUTH2_CLIENT_ID,scope:OAUTH2_SCOPES,immediate:!1},handleAuthResult)})}function loadAPIClientInterfaces(){gapi.client.load("youtube","v3",function(){handleAPILoaded()})}
(function(a){var b,c=function(a){a=-a.getTimezoneOffset();return null!==a?a:0},d=function(a,b,c){var d=new Date;return void 0!==a&&d.setFullYear(a),d.setDate(c),d.setMonth(b),d};b={determine:function(){var a=c(d(void 0,0,2)),l=c(d(void 0,5,2)),m=c(d(void 0,0,2))-c(d(void 0,5,2));return new b.TimeZone(b.olson.timezones[0>m?a+",1":0<m?l+",1,s":a+",0"])},date_is_dst:function(a){var b;7<a.getMonth()?(b=a.getFullYear(),b=c(d(b,5,2))):(b=a.getFullYear(),b=c(d(b,0,2)));a=c(a);return 0!==b-a},dst_start_for:function(a){var b=
new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,
8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,
0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":b,"Asia/Yekaterinburg":b,"Asia/Omsk":b,"Asia/Krasnoyarsk":b,"Asia/Irkutsk":b,"Asia/Yakutsk":b,"Asia/Vladivostok":b,"Asia/Kamchatka":b,"Europe/Minsk":b,"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[a]},TimeZone:function(a){var c={"America/Denver":["America/Denver",
"America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":"Asia/Beirut Europe/Helsinki Europe/Istanbul Asia/Damascus Asia/Jerusalem Asia/Gaza".split(" "),"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],
"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},d=a;if("undefined"!=
typeof c[d])a:{a=c[d];for(var c=a.length,p=0,q=a[0];p<c;p+=1)if(q=a[p],b.date_is_dst(b.dst_start_for(q))){d=q;break a}}return{name:function(){return d}}},olson:{}};b.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala",
"-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin",
"60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla",
"525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};"undefined"!=
typeof exports?exports.jstz=b:a.jstz=b})(this);var node="undefined"!=typeof module&&null!=module;
function Limiter(a){function b(){if(0!=f.length){for(var a=+Date.now(),q=d-l.length,n=m.length-1;0<=n;--n)if(m[n].finish<a-c){m=m.slice(n+1);break}else--q;for(;0<q&&0<f.length;){var s=f.shift();0==s.length?(m.push({callback:s,finish:+Date.now()}),s(),setTimeout(function(){b()},c)):(l.push({callback:s,start:+Date.now()}),s(function(){for(var a=-1,n=0;n<l.length;++n)if(l[n].callback==s){a=n;break}-1!=a&&(l.splice(a,1),m.push({callback:s,finish:+Date.now()}),setTimeout(function(){b()},c))}));--q}0<f.length&&
setTimeout(function(){b()},c)}}var c=1E3,d=3,f=[],l=[],m=[];this.attach=function(a){f.push(a);b()};a&&"object"==typeof a&&(c=a.window||c,d=a.limit||d)}var youtubeQueue=new Limiter({window:1E3,limit:50});node&&(module.exports=Limiter);
var $$=function(){function a(a,b,h,g,k){if(null==a)return h;if(g instanceof Array){if(null==k)return a(h,b,g);c=null!=k.pre?k.pre:[];c=c.concat([h,b,g]);null!=k.post&&(c=c.concat(k.post));return a.apply(null,c)}if(null==k)return 1==a.length?a(h):a(b,h,g);var c,e=0;null!=k.pre?(c=k.pre,e=c.length):c=[];c=1==a.length-e?c.concat([h]):c.concat([b,h,g]);null!=k.post&&(c=c.concat(k.post));return a.apply(null,c)}function b(n,b){if(n instanceof Array){var h=n.length,g=[],k=1,c=null,e=0,j=h,d=null,f;if(1<
arguments.length){f=arguments[k++];if("string"==typeof f||"object"==typeof f)c=f,f=arguments[k++],"reverse"==c&&(e=j-1);"number"==typeof f&&(e=f,0>e&&(e+=h),f=arguments[k++],"number"==typeof f&&(j=f,0>j&&(j+=h),f=arguments[k++]));"function"==typeof f&&(d=f)}if(null==c){h=Math.min(h,e+j);for(k=e;k<h;++k)k in n&&void 0!==(l=a(d,k,n[k],n))&&g.push(l)}else if("reverse"==c){h=Math.max(-1,e-j);for(k=e;k>h;--k)k in n&&void 0!==(l=a(d,k,n[k],n))&&g.push(l)}else throw"Exception: 'select' called with un-understood style: "+
c;}else{var g={},l;for(k in n)if(void 0!==(l=a(b,k,n[k],n)))if(null!=l&&"object"!=typeof n[k]&&"object"==typeof l)for(e in l)g[e]=l[e];else g[k]=l}return g}function c(a,b,h){if(null==h||!(h instanceof Array))h=[];var g,k;if("object"==typeof a){h.push(a);if(a instanceof Array)for(var d=0;d<a.length;++d){if(!1!==(k=b(d,g=a[d],a,h)))if(void 0!==k||"object"==typeof g&&void 0!==(k=c(g,b,h)))return k}else for(d in a)if(!1!==(k=b(d,g=a[d],a,h)))if(void 0!==k||"object"==typeof g&&void 0!==(k=c(g,b,h)))return k;
h.pop(a)}else return b(void 0,a,void 0,h)}function d(a,b,h){var g;if((g="object"==typeof a)^"object"==typeof b)return!1;if(g){if((g=a instanceof Array)^b instanceof Array)return!1;if(g){var k;if((k=a.length)!=b.length)return!1;for(g=0;g<k;++g)if(!d(a[g],b[g],h))return!1}else{for(k in a)if(!(k in b)||!d(a[k],b[k],h))return!1;for(k in b)if(!(k in a))return!1}return!0}return!1!==h?a===b:a==b}function f(a){if(null==a)return null;if("object"==typeof a){var b;if(a instanceof Array){b=[];for(var h=0;h<a.length;++h)b.push(f(a[h]))}else for(h in b=
{},a)b[h]=f(a[h]);return b}return a}function l(a,b){function h(e){for(var d=[],f=a[e],l=0;l<f;++l)c[e]=l,e>=k-1?d.push(g?b.apply(null,c):b):d.push(h(e+1));return d}void 0===b&&(b=0);var g="function"==typeof b,k=a.length,c=[];return h(0)}function m(a){var b=[];switch(a.length){case 1:var h=a[0];for(a=0;a<h;++a)b.push(a);break;case 2:var h=a[0],g=a[1];for(a=h;a<=g;++a)b.push(a);break;case 3:var h=a[0],g=a[1],k=a[2];if(0>g)for(a=h;a>=k;a+=g)b.push(a);else for(a=h;a<=k;a+=g)b.push(a);break;default:throw"Exception: Bad number of elements in for colon-izing a vector";
}return b}function p(a,c){var h=a.length,g=void 0,k;for(k=0;k<h;++k)if(k in a){g=a[k];break}if(void 0===g)return null;if("number"==typeof g){var d=g=0,e=void 0,j=void 0,f=0;for(k=0;k<h;++k)if(k in a){var l=a[k];++f;g+=l;d+=l*l;if(void 0===e||l<e)e=l;if(void 0===j||l>j)j=l}h={mean:g/f,sum:g,count:f,min:e,max:j,stddev:Math.sqrt(d/f-Math.pow(g/f,2))};if(null!=c&&"string"==typeof c)for(var m in h)-1==c.indexOf(m)&&delete h[m];return h}if("object"==typeof g){h={};for(m in g)"number"==typeof g[m]&&(h[m]=
p(b(a,function(a){return a[m]}),c));return h}throw"Exception: Cannot 'stats' obj array";}function q(b,c){var h={value:void 0};if(b instanceof Array){h.key=-1;h.ix=-1;for(var g=0;g<b.length;++g)if(void 0===h.value||a(c,g,b[g],b,{pre:[h.value]}))h.value=b[g],h.key=g,h.ix=g}else for(g in h.key=void 0,b)if(void 0===h.value||a(c,g,b[g],b,{pre:[h.value]}))h.value=b[g],h.key=g;return h}return{evalKernel:a,each:function(b,c){if(b instanceof Array){var h=null,g=0,k=b.length,d=k,e,j,f=1;if(1<arguments.length){j=
arguments[f++];if("string"==typeof j||"object"==typeof j)h=j,j=arguments[f++],"reverse"==h&&(g=k-1,d=-1);"number"==typeof j&&(g=j,0>g&&(g+=k),j=arguments[f++]);"number"==typeof j&&(d=j,0>d&&(d+=k),j=arguments[f++]);"function"==typeof j&&(e=j)}if(null==e)throw"Exception: 'each' called without a kernel function";if("reverse"==h)for(f=g;f>d&&!(f in b&&!0===a(e,f,b[f],b));--f);else if(null==h)for(f=g;f<d&&!(f in b&&!0===a(e,f,b[f],b));++f);else throw"Exception: 'each' called with un-understood style: "+
h;return f}e=0;for(h in b){if(!0===a(c,h,b[h],b))break;++e}return e},select:b,where:function(b,c){if(b instanceof Array){var h=b.length,g=null,k,d=1,e;if(1<arguments.length){e=arguments[d++];if("string"==typeof e||"object"==typeof e)g=e,e=arguments[d++];"function"==typeof e&&(k=e)}if("ixes"==g){g={items:[],ixes:[]};for(d=0;d<h;++d)if(d in b&&!0===a(k,d,j=b[d],b))g.items.push(j),g.ixes.push(d)}else if(null==g){g=[];for(d=0;d<h;++d)d in b&&!0===a(k,d,j=b[d],b)&&g.push(j)}else throw"Exception: 'where' called with un-understood style: "+
g;}else{var g={},j;for(h in b)if(!0===a(c,h,j=b[h],b))g[h]=j}return g},sift:function(b,c){if(b instanceof Array){var h=b.length,g=null,k,d={},e=1,j;if(1<arguments.length){j=arguments[e++];if("string"==typeof j||"object"==typeof j)g=j,j=arguments[e++];"function"==typeof j&&(k=j)}if(null==k)throw"Exception: 'sift' called without a predicate";if("ixes"==g)for(e=0;e<h;++e)e in b&&(j=a(k,e,g=b[e],b),j in d?(j=d[j],j.items.push(g),j.ixes.push(e)):d[j]={items:[g],ixes:[e]});else for(e=0;e<h;++e)e in b&&
(j=a(k,e,g=b[e],b),j in d?d[j].push(g):d[j]=[g])}else{var d={};for(j in b)g=a(c,j,k=b[j],b),g in d?h=d[g]:d[g]=h={},h[j]=k}return d},replace:function(b,c){if(b instanceof Array){var h=0,g=b.length,k=g,d,e=1,j;1<arguments.length&&(j=arguments[e++],"number"==typeof j&&(h=j,0>h&&(h+=g),j=arguments[e++],"number"==typeof j&&(k=j,j=arguments[e++])),"function"==typeof j&&(d=j));k=Math.min(g,h+k);for(e=h;e<k;++e)e in b&&(void 0!==(h=a(d,e,b[e],b))?b[e]=h:(b.splice(e,1),--e,--g))}else for(g in b)void 0===
(h=a(c,g,b[g],b))?delete b[g]:b[g]=h;return b},toArray:function(b,c){var h=[],g,k;for(k in b)void 0!==(g=a(c,k,b[k],b))&&h.push(g);return h},kernel:c,equal:d,clone:f,parse:function(a){for(var b=[],h={},g=[],c=a.length,d=null,e=null,j=null,f=null,l=!1,m=0,q,p,r=1;r<arguments.length;++r)if((q=arguments[r])instanceof Array)for(p=0;p<q.length;++p)b.push(q[p]);else b.push(q);0==b.length&&(b.push('"'),b.push("'"));console.log(b);for(r=0;r<b.length;++r)p=b[r],h[p.length]="object"==typeof p?p.pre.length:
p.length;for(r=0;r<c;++r)if(l)l=!1;else if("\\"==a.charAt(r))l=!0;else if(null!=d)r+f-1<c&&a.substr(r,f)==e&&(e=a.substr(m,r+f-m),j=e.substr(j,e.length-j-f),g.push({value:e,trimmed:j,delimiter:d}),j=e=d=null,m=r+f,f=null);else{var u={},t;for(t in h)u[t]=r+h[t]<=c?a.substr(r,h[t]):"";for(q=0;q<b.length&&!(p=b[q],("object"==typeof p?p.pre:p)==u[p.length]);++q);q<b.length&&(r>m&&(e=a.substr(m,r-m),g.push({value:e,trimmed:e,delimiter:d})),d=b[q],j="object"==typeof d?d.pre.length:d.length,e="object"==
typeof d?d.post:d,f=e.length,m=r)}r>m&&(e=a.substr(m,r-m),g.push({value:e,trimmed:e,delimiter:d}));return g},ix:function(a){var b=arguments.length,h=!1,g;for(g=1;g<b;++g){var c=arguments[g];if(null!=c&&c instanceof Array){h=!0;break}}if(h){var d=[];for(g=1;g<b;++g)c=arguments[g],d.push(c instanceof Array?c.length:1);h=[];for(d=new NdimIterator(d);d.inBounds();){var e=a=h;for(g=1;g<b;++g){var f=d.ixes[g],c=arguments[g];g<b-1?(f in a||(a[f]=[]),a=a[f],c instanceof Array?(f=c[f],e=e[0>f?e.length+f:f]):
e=e[0>c?e.length+c:c]):(c instanceof Array&&(c=c[f]),a[f]=e[0>c?e.length+c:c])}if(!d.increment())break}}else{h=a;for(g=1;g<b;++g)c=arguments[g],h=h[0>c?h.length+c:c]}return h},singletons:function(a,b){function h(a){for(var d=a.length,f=Math.floor(c.length/2),n=0;n<d;++n)if(n in a){var l=a[n];c[f]=n;null!=l&&l instanceof Array?(c=c.slice(0,f+1).concat([0],c.slice(f+1),[l]),h(l),c=c.slice(0,f+1).concat(c.slice(f+2,-1))):(c[0]=l,b.apply(null,c),++g)}}var g=0,c=[null,null,a];h(a);return g},sum:function(a,
b){return null!=b?a.reduce(function(a,c,d){return a+b(c,d)},0):a.reduce(function(a,b){return a+b},0)},prod:function(a,b){return null!=b?a.reduce(function(a,c,d){return a*b(c,d)},1):a.reduce(function(a,b){return a*b},1)},any:function(b,c){for(var h=b.length,g=0;g<h;++g)if(g in b&&a(c,g,b[g],b))return!0;return!1},all:function(b,c){for(var h=b.length,g=0;g<h;++g)if(g in b&&!a(c,g,b[g],b))return!1;return!0},makeArray:l,colon:m,separate:function(b,c){if(null==c)throw"Exception: 'separate' called without a predicate";
for(var h=[],g=b.length,d=[],f=0;f<g;++f)if(f in b){var e=b[f];a(c,f,b[f],b)?0<d.length&&(h.push(d),d=[]):d.push(e)}0<d.length&&h.push(d);return h},histo:function(a,b){for(var c={},g=a.length,d=0;d<g;++d)if(d in a){var f=a[d];f in c?++c[f]:c[f]=1}if(b){var g=[],e;for(e in c)g.push([e,c[e]]);return g}return c},stats:p,shuffle:function(a,b){var c=a.length,g,d,f;if(null==b||"random"==b)for(var e=0;e<c;++e){if((g=Math.floor(Math.random()*c))!=e)d=a[e],a[e]=a[g],a[g]=d}else if((f="out"==b)||"in"==b){var j=
f?Math.floor((c+1)/2):Math.floor(c/2),e=f?1:0,m=void 0,q=l([c],!1);for(f&&(q[0]=!0);e<c;)q[e]?(++e,m=void 0):(d=a[e],void 0===m?(g=f?e<j?2*e:1+2*(e-j):e<j?1+2*e:2*(e-j),a[e]=a[g]):a[e]=m,q[e]=!0,g=f?0==e%2?e/2:j+(e-1)/2:0==e%2?j+e/2:(e-1)/2,m=d,e=g)}else throw"Exception: Un-understood style: '"+b+"'";return a},flatten:function(a){function b(a){for(var d=0;d<a.length;++d){var f=a[d];f instanceof Array?b(f):c.push(f)}}var c=[];b(a);return c},countMat:function(a,b){var c=a.length;return{ix:0,ret:[],
temp:[],iter:function(d){if(d<c)for(var f=a[d],l=1<=f?f-1E-10:1,f=1<=f?1:f,e,j=0;j<=l;j+=f)if(this.temp[d]=j,d>=c-1){e=this.temp.slice(0);if(null!=b){if(!0===b(e,this.ix))return}else this.ret.push(e);++this.ix}else if(e=this.iter(d+1),null!=b&&void 0===e)return;return null==b?this.ret:this.ix}}.iter(0)},subsets:function(a){function b(f){var e=[];this.run=function(b){if(!(b>=c)){e.push(a[b]);if(e.length==f){var k=e.slice(0);(null==l||void 0!==(k=l(k)))&&d.push(k)}else this.run(b+1);e.pop();e.length+
(c-(b+1))<f||this.run(b+1)}}}var c=a.length,d=[],f=null,l=null,e=1,j=1<arguments.length?arguments[e]:null;null!=j&&"function"!=typeof j?(f=j,j=arguments[++e]):f=m([1,c]);null!=j&&"function"==typeof j&&(l=j);if("number"==typeof f)(new b(f)).run(0);else if(f instanceof Array)for(e=0;e<f.length;++e)(new b(f[e])).run(0);else throw Error("Bad argument for 'ms': "+f);return d},top:function(a){return a[a.length-1]},ulam:function(a){if(0==a)return{x:0,y:0};var b=2*Math.floor((Math.sqrt(a)-1)/2)+3,c={x:Math.floor(b/
2),y:1-Math.floor(b/2)};a-=(b-2)*(b-2);if(0==a)return c;var d;c.y+=d=Math.min(b-2,a);if(0==(a-=d))return c;c.x-=d=Math.min(b-1,a);if(0==(a-=d))return c;c.y-=d=Math.min(b-1,a);if(0==(a-=d))return c;c.x+=Math.min(b,a);return c},find:q,max:function(a,c){return q(null!=c?b(a,c):a,function(a,b){return b>a})},min:function(a,c){return q(null!=c?b(a,c):a,function(a,b){return b<a})},sort:function(a){var b=arguments;1==b.length?a.sort():a.sort(function(a,c){for(var d=1;d<b.length;++d){var f=b[d](a,c);if(0!=
f)return f}return 0});return a},sortIxes:function(a){var c=arguments,d=b(a,function(a,b){return{value:a,ix:b}});1==c.length?d.sort(function(a,b){return a.value<b.value?-1:a.value>b.value?1:0}):d.sort(function(a,b){for(var d=1;d<c.length;++d){var h=c[d](a.value,b.value);if(0!=h)return h}return 0});return{array:b(d,function(a){return a.value}),ixes:b(d,function(a){return a.ix})}},pretty:function(a){var b,c=(b="object"==typeof a)?a.value:a;if("number"==typeof c){var d=",",f=" ",l=3;b&&(d=a.integerSep||
a.separator||d,f=a.decimalSep||d,l=a.group||l);a=0>c;c=c.toString();b=c.match(/^-?(\d+)/);c=c.match(/\.(\d+)$/);if(null!=b){for(var e=b[1],j=[],m=e.length-l;0<=m;m-=l)j.push(e.substr(m,l));m>-l&&j.push(e.substr(0,m+l));j.reverse();b=j.join(d)}if(null!=c){e=c[1];j=[];for(m=0;m<e.length;m+=l)j.push(e.substring(m,Math.min(m+l,e.length)));c=j.join(f)}return(a?"-":"")+(b||"0")+(null!=c?"."+c:"")}throw Error("Don't know how to prettify: "+a);}}}();(node="undefined"!=typeof module&&module)&&($$=require("mst"));
var engColors={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",
darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",
ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",
lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",
moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",
seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};
function color2Rgb(a){a.toLowerCase()in engColors&&(a=engColors[a.toLowerCase()]);var b;6<=a.length?(b=a.match(/^\#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i),a=1):(b=a.match(/^\#?([0-9a-f])([0-9a-f])([0-9a-f])$/i),a=16);if(null==b||4>b.length)return null;b=$$.select(b.slice(1,4),function(a){return parseInt(a,16)});return{r:b[0],g:b[1],b:b[2],base:256/a}}function rgb2Hex(a){function b(b){b=Math.round(b).toString(16);return 256==a.base&&2>b.length?"0"+b:b}return"#"+b(a.r)+b(a.g)+b(a.b)}
function rgbScaleBase(a,b){if(a.base==b)return a;var c=(b-1)/(a.base-1);return{r:a.r*c,g:a.g*c,b:a.b*c,base:b}}function testConversions(a){$$.each("moose red f00 f000 f00ff0 #f00ff0 #666 #ff8844".split(" "),function(b){var c=color2Rgb(b),d=c;if(null!=c){var d="{ ",f=0;$$.each(c,function(a,b){d+=(0<f++?", ":"")+a+": "+b})}a.log(b,"=>",d);null!=c&&a.log(b,"=> (back)",rgb2Hex(c))})}var color="(\\\"|\\')?(\\#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})";$$.each(engColors,function(a){color+="|"+a});color+=")(\\\"|\\')?";
function rectifyColors(a){$$.replace(a,function(a){a=a.replace(/(^\s+|\s+$|'|")/g,"");-1==a.indexOf("#")&&null!=a.match(/^[0-9a-fA-F]+$/i)&&(a="#"+a);return a});return a}function matchColors(a){if(null==a.match(RegExp("^\\s*\\[?\\s*"+color+"((\\,\\s*|\\s+)"+color+")*\\s*\\]?\\s*$","i")))return null;a=a.replace(/[^\#0-9a-zA-Z\,\s]+/g,"").replace(/(^\s+|\s+$)/g,"");a=-1!=a.indexOf(",")?a.split(/\s*\,\s*/):a.split(/\s+/);return rectifyColors(a)}
function testMatchColors(a){$$.each("moose;glial mice mouse;fff;#fff;#fff0;#fff000;'#fff';\"#ffffff\";#fff #aaa #bbb #c0c;#fff, #aaa, #bbb, #c0c;[#fff, #aaa, #bbb, #c0c];['#fff', '#aaa', '#bbb', '#c0c'];['#fff' '#aaa' '#bbb' '#c0c'];tomato;fuchsia indianred;'fuchsia' \"indianred\";[DimGrey, 'fuchsia', \"indianred\"".split(";"),function(b){a.log(b,"=>",matchColors(b))})}
function matchColorRange(a){return null==a.match(RegExp("^\\s*"+color+"(\\s+to\\s+"+color+")+\\s*$","i"))?null:rectifyColors(a.split(/\s+to\s+/i))}function testMatchColorRange(a){$$.each(["red","red to blue","f00 to 00f","'#f00' to '#00f'"],function(b){a.log(b,"=>",matchColorRange(b))})}var principal=80;
function makeSwatch(a,b,c){return'<span style="width: '+b+"px; height: "+c+"px; background-color: "+a+'; display: inline-block; border: 1px black solid; align: center; vertical-align: middle;">'+a+"</span>"}
function getColorsModules(){return[{name:"Colors",precedence:1,kernel:function(a){a=matchColors(a);if(null==a)return!1;var b="",c=principal,d=principal;$$.each(a,function(a){b+=makeSwatch(a,c,d)+" "});return b}},{name:"ColorRanges",precedence:1,kernel:function(a){a=matchColorRange(a);if(null!=a&&2==a.length){for(var b="",c=principal,d=color2Rgb(a[0]),f=color2Rgb(a[1]),l=Math.max(d.base,f.base),d=rgbScaleBase(d,l),f=rgbScaleBase(f,l),m=(f.r-d.r)/200,p=(f.g-d.g)/200,f=(f.b-d.b)/200,b=b+(a[0]+"&nbsp;"),
q=0;200>=q;++q)var n=rgb2Hex({r:d.r+q*m,g:d.g+q*p,b:d.b+q*f,base:l}),b=b+('<div style="width: 2px; height: '+c+"px; background-color: "+n+'; display: inline-block; padding: 0px;" onmouseover="rangeMouseOver(\''+n+"')\" ></div>");return b+="&nbsp;"+a[1]+'<br /><div id="rangeMouseOver"></div>'}return!1}}]}function rangeMouseOver(a){$("#rangeMouseOver").html(makeSwatch(a,principal,principal))}node&&(module.exports={test:function(a){testMatchColors(a);testMatchColorRange(a);testConversions(a)}});
(node="undefined"!=typeof module&&module)&&($$=require("mst"));function isPrime(a){if(2>a)return!1;for(var b=Math.sqrt(a),c=2;c<=b;++c)if(0==a%c)return c;return!0}
function matchPrimality(a){var b;if(null!=(b=a.match(/^\s*(is)?\s*prime\s*(\d+)\s*\??\s*$/i)))a=parseInt(b[2]);else if(null!=(b=a.match(/^\s*(is)?\s*(\d+)\s*(is)?\s*prime\s*\??\s*$/i)))a=parseInt(b[2]);else return!1;b=isPrime(a);return!1===b?$$.pretty(a)+" is not prime.":!0===b?$$.pretty(a)+" is prime.":"number"==typeof b?$$.pretty(a)+" is not prime: "+$$.pretty(a)+" = "+$$.pretty(b)+" * "+$$.pretty(a/b):!1}
function factor(a){for(var b=[],c=2;1<a;){for(;0==a%c;)b.push(c),a/=c;++c;if(c*c>a){1<a&&b.push(a);break}}return b}
function getNumbersModules(){return[{name:"Prime",precedence:1,kernel:matchPrimality},{name:"Factor",precedence:1,kernel:function(a){if(null!=(a=a.match(/^\s*(please)?\s*factor\s*(\d+)\s*\,?\s*(please)?\s*$/i)))a=parseInt(a[2]);else return!1;return 1>a?"Can't factor "+$$.pretty(a):1==factor(a).length?$$.pretty(a)+" is prime.":$$.pretty(a)+" = "+$$.select(factor(a),function(a){return $$.pretty(a)}).join(" * ")}}]}
function testPrimality(a){$$.each("glarm;is 47 prime?;is 47 PRIME?;is 47 prime;is47prime?;is prime 47?;is prime 47;is PRIME 47;isprime 47;prime 47;47 prime;47 is prime?".split(";"),function(b){a.log(b,"=>",matchPrimality(b))})}function testFactoring(a){for(var b=1;1E3>=b;++b){var c=factor(b);if($$.any(c,function(a){return!isPrime(a)}))throw Error("Not a prime factor: "+factor);a.log(b,"=>",c.join(","))}}node&&(module.exports={test:function(a){testPrimality(a);testFactoring(a)}});
(node="undefined"!=typeof module&&module)&&($$=require("mst"));
function getArrayArray(a){function b(a){var b=typeof a;if("number"!=b&&!(b instanceof Date))if("string"==b)try{var c=new Date(a);c&&!isNaN(+c)&&(b="date")}catch(d){}else throw Error("Could not interpret type");return b}if(!(a instanceof Array)||0==a.length)return null;var c=[],d=[];if(a[0]instanceof Array)if($$.all(a[0],function(a){return"string"==typeof a||"object"==typeof a})){if(2>a.length)return null;c=a.slice();$$.replace(a[0],function(c,d){return"string"==typeof c?{name:c,type:b(a[1][d])}:c})}else $$.each(a[0],
function(a,c){d.push({name:String.fromCharCode(65+c),type:b(a)})}),c=[d].concat(a.slice());else if("object"==typeof a[0])$$.each(a[0],function(a,c){d.push({name:a,type:b(c)})}),c=[d],$$.each(a,function(a){var b=[];$$.each(d,function(c){b.push(a[c.name])});c.push(b)});else if("number"==typeof a[0])c=[[{name:"#",type:"string"},{name:String.fromCharCode(65),type:"number"}]],$$.each(a,function(a,b){c.push([""+(b+1),a])});else return null;$$.each(c[0],function(a,b){"date"==a.type&&$$.each(c,function(a,
c){if(0!=c){var d=a[b];d instanceof Date||(a[b]=new Date(d))}})});return c}
function checkPlotting(a){var b;try{b=JSON.parse(a)}catch(c){try{b=JSON.parse("["+a+"]")}catch(d){return!1}}if(b)if(b instanceof Array)b={data:b};else if("object"==typeof b){if(!b.data||!(b.data instanceof Array))return!1}else return!1;else return!1;a=getArrayArray(b.data);if(null==a)return null;b.data=a;var f={string:-1,date:-1,number:-1};$$.each(b.data[0],function(a,b){-1==f[a.type]&&(f[a.type]=b)});var l=$$.colon([b.data[0].length]),m;if((-1!=(m=f.string)||-1!=(m=f.date)||-1!=(m=f.number))&&0!=
m)l.splice(m,1),l.unshift(m);var p=new google.visualization.DataTable;$$.each(l,function(a){a=b.data[0][a];p.addColumn(a.type,a.name)});var q=[];$$.each(b.data,function(a,b){if(0!=b){var c=[];$$.each(l,function(b){c.push(a[b])});q.push(c)}});p.addRows(q);b=new google.visualization.ChartWrapper({chartType:"AreaChart",dataTable:p,options:{title:b.title||"Plot",width:b.width||640,height:b.height||480},containerId:"results"});b.draw();$("#results").css("width",640);return!0}
function getPlottingModules(){return[{name:"Plots",precedence:1,kernel:checkPlotting}]}
function testArrayArray(a){$$.each([[[1],[2],[3],[4]],[[1,"a"],[2,"5"],[3,"124"],[4,"123"]],[[1,"2011.12.31"],[2,"2012.1.1"],[3,"2012.1.2"],[4,"2012.1.3"]],[["GLARM"],[1],[2],[3],[4]],[[{name:"foo",type:"number"},{name:"bar",type:"string"}],[1,"a"],[2,"5"],[3,"124"],[4,"123"]],[["first",{name:"second",type:"date"}],[1,"2011.12.31"],[2,"2012.1.1"],[3,"2012.1.2"],[4,"2012.1.3"]],[{a:1},{a:2},{a:3},{a:4}],[{a:1,b:"a"},{a:2,b:"a6"},{a:3,b:"5"},{a:4,b:"moose"}],[{a:1,b:"2011.5.5"},{a:2,b:"2011.5.6"},{a:3,
b:"2011.5.7"},{a:4,b:"2011.5.8"}]],function(b){a.log("^");a.log(JSON.stringify(b,null,2));a.log("=>");b=getArrayArray(b);a.log(JSON.stringify(b,null,2));a.log("$")})}node&&(module.exports={test:function(a){testArrayArray(a)}});(node="undefined"!=typeof module&&null!=module)&&($$=require("mst"));
var epList="K00- THE GREEN SLIME (pilot, never shown);K01- INVADERS FROM THE DEEP;K02- REVENGE OF THE MYSTERONS;K03- STAR FORCE: FUGITIVE ALIEN 2;K04- GAMERA VS. BARUGON;K05- GAMERA;K06- GAMERA VS. GAOS;K07- GAMERA VS. ZIGRA;K08- GAMERA VS. GUIRON;K09- PHASE IV;K10- COSMIC PRINCESS;K11- HUMANOID WOMAN;K12- FUGITIVE ALIEN;K13- SST DEATH FLIGHT;K14- MIGHTY JACK;K15- SUPERDOME;K16- CITY ON FIRE;K17- TIME OF THE APES;K18- THE MILLION EYES OF SU-MURU;K19- HANGAR 18;K20- THE LAST CHASE;K21- LEGEND OF THE DINOSAUR;101- THE CRAWLING EYE;102- THE ROBOT VS. THE AZTEC MUMMY with short: COMMANDO CODY AND THE RADAR MEN FROM THE MOON PT 1;103- MAD MONSTER with short: COMMANDO CODY PT 2;104- WOMEN OF THE PREHISTORIC PLANET;105- THE CORPSE VANISHES with short: COMMANDO CODY PT 3;106- THE CRAWLING HAND;107- ROBOT MONSTER with shorts: COMMANDO CODY PTS 4 and 5;108- THE SLIME PEOPLE with short: COMMANDO CODY PT 6;109- PROJECT MOONBASE with shorts: COMMANDO CODY PTS 7 and 8;110- ROBOT HOLOCAUST with short: COMMANDO CODY PT 9 (partial);111- MOON ZERO TWO;112- UNTAMED YOUTH;113- THE BLACK SCORPION;201- ROCKETSHIP X-M;202- THE SIDEHACKERS;203- JUNGLE GODDESS with short: THE PHANTOM CREEPS PT 1;204- CATALINA CAPER;205- ROCKET ATTACK USA with short: THE PHANTOM CREEPS PT 2;206- THE RING OF TERROR with short: THE PHANTOM CREEPS PT 3;207- WILD REBELS;208- LOST CONTINENT;209- THE HELLCATS;210- KING DINOSAUR with short: X MARKS THE SPOT;211- FIRST SPACESHIP ON VENUS;212- GODZILLA VS. MEGALON;213- GODZILLA VS. THE SEA MONSTER;301- CAVE DWELLERS;302- GAMERA;303- POD PEOPLE;304- GAMERA VS. BARUGON;305- STRANDED IN SPACE;306- TIME OF THE APES;307- DADDY-O with short: ALPHABET ANTICS;308- GAMERA VS. GAOS;309- THE AMAZING COLOSSAL MAN;310- FUGITIVE ALIEN;311- IT CONQUERED THE WORLD with short: SNOW THRILLS;312- GAMERA VS. GUIRON;313- EARTH VS. THE SPIDER with short: USING YOUR VOICE;314- MIGHTY JACK;315- TEENAGE CAVEMAN with shorts: AQUATIC WIZARDS and CATCHING TROUBLE;316- GAMERA VS. ZIGRA;317- VIKING WOMEN VS. THE SEA SERPENT with short: THE HOME ECONOMICS STORY;318- STAR FORCE - FUGITIVE ALIEN II;319- WAR OF THE COLOSSAL BEAST with short: MR. B. NATURAL;320- THE UNEARTHLY with shorts: POSTURE PALS and APPRECIATING OUR PARENTS;321- SANTA CLAUS CONQUERS THE MARTIANS;322- MASTER NINJA I;323- THE CASTLE OF FU-MANCHU;324- MASTER NINJA II;401- SPACE TRAVELERS;402- THE GIANT GILA MONSTER;403- CITY LIMITS;404- TEENAGERS FROM OUTER SPACE;405- BEING FROM ANOTHER PLANET;406- ATTACK OF THE GIANT LEECHES with short: UNDERSEA KINGDOM PT 1;407- THE KILLER SHREWS with short: JUNIOR RODEO DAREDEVILS;408- HERCULES UNCHAINED;409- THE INDESTRUCTIBLE MAN with short: UNDERSEA KINGDOM PT 2;410- HERCULES AGAINST THE MOON MEN;411- THE MAGIC SWORD;412- HERCULES AND THE CAPTIVE WOMEN;413- MANHUNT IN SPACE with short: GENERAL HOSPITAL PT 1;414- TORMENTED;415- THE BEATNIKS with short: GENERAL HOSPITAL PT 2;416- FIRE MAIDENS OF OUTER SPACE;417- CRASH OF THE MOONS with short: GENERAL HOSPITAL PT 3;418- ATTACK OF THE THE EYE CREATURES;419- THE REBEL SET with short: JOHNNY AT THE FAIR;420- THE HUMAN DUPLICATORS;421- MONSTER A-GO-GO with short: CIRCUS ON ICE;422- THE DAY THE EARTH FROZE with short: HERE COMES THE CIRCUS;423- BRIDE OF THE MONSTER with short: HIRED! PT 1;424- \"MANOS\": THE HANDS OF FATE with short: HIRED! PT 2;501- WARRIOR OF THE LOST WORLD;502- HERCULES;503- SWAMP DIAMONDS with short: WHAT TO DO ON A DATE;504- SECRET AGENT SUPER DRAGON;505- MAGIC VOYAGE OF SINBAD;506- EEGAH!;507- I ACCUSE MY PARENTS with short: THE TRUCK FARMER;508- OPERATION DOUBLE 007;509- GIRL IN LOVER'S LANE;510- THE PAINTED HILLS with short: BODY CARE AND GROOMING;511- GUNSLINGER;512- MITCHELL;513- THE BRAIN THAT WOULDN'T DIE;514- TEEN-AGE STRANGLER with short: IS THIS LOVE?;515- WILD, WILD WORLD OF BATWOMAN with short: CHEATING;516- ALIEN FROM L.A.;517- THE BEGINNING OF THE END;518- THE ATOMIC BRAIN with short: WHAT ABOUT JUVENILE DELINQUENCY?;519- OUTLAW (OF GOR);520- RADAR SECRET SERVICE with short: LAST CLEAR CHANCE;521- SANTA CLAUS;522- TEEN-AGE CRIME WAVE;523- VILLAGE OF THE GIANTS;524- 12 TO THE MOON with short: DESIGN FOR DREAMING;601- GIRLS TOWN;602- INVASION U.S.A. with short: A DATE WITH YOUR FAMILY;603- THE DEAD TALK BACK with short: THE SELLING WIZARD;604- ZOMBIE NIGHTMARE;605- COLOSSUS AND THE HEADHUNTERS;606- THE CREEPING TERROR;607- BLOODLUST with short: UNCLE JIM'S DAIRY FARM;608- CODE NAME: DIAMOND HEAD with short: A DAY AT THE FAIR;609- THE SKY DIVERS with short: WHY STUDY THE INDUSTRIAL ARTS?;610- THE VIOLENT YEARS with short: YOUNG MAN'S FANCY;611- LAST OF THE WILD HORSES;612- THE STARFIGHTERS;613- THE SINISTER URGE with short: KEEPING CLEAN AND NEAT;614- SAN FRANCISCO INTERNATIONAL;615- KITTEN WITH A WHIP;616- RACKET GIRLS with short: ARE YOU READY FOR MARRIAGE?;617- THE SWORD AND THE DRAGON;618- HIGH SCHOOL BIG SHOT with short: OUT OF THIS WORLD;619- RED ZONE CUBA with short: SPEECH;620- DANGER! DEATH RAY;621- THE BEAST OF YUCCA FLATS with shorts: MONEY TALKS! and PROGRESS ISLAND, U.S.A.;622- ANGELS' REVENGE;623- THE AMAZING TRANSPARENT MAN with short: THE DAYS OF OUR LIVES;624- SAMSON VS. THE VAMPIRE WOMEN;701- NIGHT OF THE BLOOD BEAST with short: ONCE UPON A HONEYMOON;702- THE BRUTE MAN with short: THE CHICKEN OF TOMORROW;703- DEATHSTALKER AND THE WARRIORS FROM HELL;704- THE INCREDIBLE MELTING MAN;705- ESCAPE 2000;706- LASERBLAST;801- REVENGE OF THE CREATURE;802- THE LEECH WOMAN;803- THE MOLE PEOPLE;804- THE DEADLY MANTIS;805- THE THING THAT COULDN'T DIE;806- THE UNDEAD;807- TERROR FROM THE YEAR 5000;808- THE SHE CREATURE;809- I WAS A TEENAGE WEREWOLF;810- THE GIANT SPIDER INVASION;811- \"PARTS\": THE CLONUS HORROR;812- THE INCREDIBLY STRANGE CREATURES WHO STOPPED LIVING AND BECAME MIXED-UP ZOMBIES;813- JACK FROST;814- RIDING WITH DEATH;815- AGENT FOR H.A.R.M.;816- PRINCE OF SPACE;817- HORROR OF PARTY BEACH;818- DEVIL DOLL;819- INVASION OF THE NEPTUNE MEN;820- SPACE MUTINY;821- TIME CHASERS;822- OVERDRAWN AT THE MEMORY BANK;901- THE PROJECTED MAN;902- PHANTOM PLANET;903- PUMA MAN;904- WEREWOLF;905- THE DEADLY BEES;906- THE SPACE CHILDREN with short: CENTURY 21 CALLING;907- HOBGOBLINS;908- THE TOUCH OF SATAN;909- GORGO;910- THE FINAL SACRIFICE;911- DEVIL FISH;912- THE SCREAMING SKULL with short: ROBOT RUMPUS;913- QUEST OF THE DELTA KNIGHTS;1001- SOULTAKER;1002- THE GIRL IN GOLD BOOTS;1003- MERLIN'S SHOP OF MYSTICAL WONDERS;1004- FUTURE WAR;1005- BLOOD WATERS OF DR. Z;1006- BOGGY CREEK II;1007- TRACK OF THE MOON BEAST;1008- FINAL JUSTICE;1009- HAMLET;1010- IT LIVES BY NIGHT;1011- HORRORS OF SPIDER ISLAND;1012- SQUIRM with short: A CASE OF SPRING FEVER;1013- DIABOLIK".split(";"),epMap=
function(){var a={};$$.each(epList,function(b){var c=b.match(/^(([K\d]\d?)\d{2})\-\s*(.*)$/i);b=c[2];var d=c[1],c=c[3];b in a||(a[b]=[]);a[b].push({number:d,title:c})});return a}();function decodeEpNumber(a){a=a.match(/^(k|\d{1,2})(\d{2})$/i);return{season:a[1],number:parseInt(a[2].replace(/^0+(?=\d)/g,""))}}function getSeasons(){return{K:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0}}
function splitSeasonArg(a){var b;if(-1!=a.indexOf(","))b=a.split(/,/);else{b=[];a=a.replace(/10/,"A");for(var c=0;c<a.length;++c)b.push(a.charAt(c))}var d={};$$.each(b,function(a){d[a]=!0});"A"in d&&(d["10"]=d.A,delete d.A);return d}function assertSeasons(a,b){var c=splitSeasonArg(b);$$.each(a,function(b){a[b]=b in c&&!0===c[b]});return a}function deassertSeasons(a,b){var c=splitSeasonArg(b);$$.each(a,function(b){a[b]=!(b in c)||!0!==c[b]});return a}
function getEpList(a,b){null==b&&(b=!1);var c=[];$$.each(a,function(a,b){!0===b&&(c=c.concat(epMap[a]))});b||(c=$$.replace(c,function(a){return a.number+" - "+a.title}));return c}function nEpsInSeason(a){return epMap[a].length}
function Season(a,b){var c=this,d=null,f=[];c.episodes=function(){return f};c.nEps=function(){return f.length};c.nextSeason=function(){return"K"==d?Season.get("1"):10==d?null:Season.get(d+1)};c.prevSeason=function(){return"K"==d?null:1==d?Season.get("K"):Season.get(d-1)};c.nextEpisode=function(a){a=f.indexOf(a);if(-1==a)return console.log("missing"),null;if(a<f.length-1)return f[a+1];a=c.nextSeason();return null==a?null:a.episodes()[0]};c.prevEpisode=function(a){a=f.indexOf(a);if(-1==a)return console.log("missing"),
null;if(0<a)return f[a-1];a=c.prevSeason();if(null==a)return null;a=a.episodes();return a[a.length-1]};c.toString=function(){return""+d};d=a.match(/^\d+$/)?parseInt(a):(""+a).toUpperCase();f=$$.select(b,function(a){var b=decodeEpNumber(a.number);return new Episode(c,b.number,a.title)})}Season.get=function(){var a;return function(b){void 0===a&&(a={},$$.each(epMap,function(b,d){a[b]=new Season(b,d)}));return a[b]}}();
function Episode(a,b,c){var d=this,f=null,l=-1,m="";d.season=function(){return f};d.number=function(){return l};d.title=function(){return m};d.next=function(){return f.nextEpisode(d)};d.prev=function(){return f.prevEpisode(d)};d.toString=function(){return f.toString()+(10>l?"0":"")+l};if(null!=a&&null==b)a=a.match(/((k|\d{1,2}))(\d{2})/i),f=Season.get(a[1]),l=parseInt(a[3]);else if(null!=a&&null!=b)f=a,l=parseInt(b),m=c;else throw Error("Invalid 'Episode' construction");}
Episode.get=function(a){a=a.toUpperCase();var b=decodeEpNumber(a);if(null==b)return null;var c=Season.get(b.season);if(null==c||0>b.number||b.number>c.nEps())return null;var d=null;$$.each(c.episodes(),function(b){if(b.toString()==a)return d=b,!0});return d};Episode.getAll=function(a){var b=[];for(a=!0===a?Season.get("K"):Season.get("1");null!=a;)b=b.concat(a.episodes()),a=a.nextSeason();return b};
function getEpRange(a){var b=a.match(/([k\d]\d{2,3})\-(k?\d+)/i);a=b[1];b=b[2];2>=b.length&&(b=a.substr(0,a.length-b.length)+b);a=Episode.get(a);b=Episode.get(b);if(null==a)return null==b?[]:[b];if(null==b)return[a];for(var c=[a];null!=(a=a.next())&&!(c.push(a),a==b););return c}
function checkMstConsole(a){if(a.match(/^mst(\s|$)/)){var b=a.split(/\s+/);a=getSeasons();for(var c="random",d=[],f,l=1;l<b.length;++l){var m=b[l];0===m.indexOf("-s=")?(assertSeasons(a,m.substr(3)),c="random"):0===m.indexOf("-ns=")?(deassertSeasons(a,m.substr(4)),c="random"):0===m.indexOf("-f=")?(c="find",f=m.substr(3)):m.match(/^[k\d]\d{2,3}(,[k\d]\d{2,3})*$/i)?(c="lookup",d=d.concat(m.split(/,/))):m.match(/^((k|\d{1,2})\d{2})\-(k?\d+)$/i)&&(c="lookup",$$.each(getEpRange(m),function(a){d.push(a.toString())}))}if("random"==
c)return b=getEpList(a),c=Math.floor(b.length*Math.random()),"Your random MST3K episode (from season"+(1<_keys(a).length?"s":"")+" "+_englishJoin(_keys(a))+") is:<br/>\n"+b[c];if("find"==c)return b=$$.where(getEpList(a),function(a){return null!=a.match(RegExp(f,"i"))}),"Your search over '"+f+"' yielded:<br/>\n"+b.join("<br/>\n");if("lookup"==c){var p="";$$.each(d,function(a){a=decodeEpNumber(a);a=epMap[a.season][a.number-1];var b="search"+(""+Math.random()).substr(2),c="mst3k "+a.title.match(/^([^a-z]*)/)[0].replace(/(^\s+|\s+$)/g,
"");p+=(0<p.length?"<br />\n":"")+a.number+" - "+a.title;node||(console.log(c),p+='<div id="'+b+'">Fetching YouTube links ...</div>',youtubeQueue.attach(function(a){gapi.client.youtube.search.list({q:c,part:"snippet",maxResults:5,order:"relevance",type:"video"}).execute(function(c){a();var d=[],f=0;$$.each(c.items,function(a){a.id.videoId&&(++f,youtubeQueue.attach(function(c){$.getJSON("http://gdata.youtube.com/feeds/api/videos/"+a.id.videoId+"?v=2&alt=jsonc",function(h){c();d.push({item:a,data:h});
if(0==--f){d=$$.where(d,function(a){return 3600<=a.data.data.duration}).slice(0,5);var g=[];$$.each(d,function(a){g.push('<div class="yt-video-link"><a href="https://www.youtube.com/watch?v='+a.item.id.videoId+'" title="'+a.item.snippet.title+'"><img src="'+a.item.snippet.thumbnails["default"].url+'"></a></img><br />'+a.item.snippet.title+" ("+Math.round(a.data.data.duration/60)+"m)</div>")});$("#"+b).html(g.join("")+'<div style="clear: both;"></div>')}})}))})})}))});return"The MST3K episode"+(1<
d.length?"s":"")+" you requested "+(1<d.length?"are":"is")+":<br />\n"+p}}}function _englishJoin(a){return 0==a.length?"":1==a.length?""+a[0]:2==a.length?a.join(" and "):a.slice(0,a.length-1).join(", ")+", and "+a[a.length-1]}function getMst3kModules(){return[{name:"MST3K",precedence:1,kernel:checkMstConsole}]}function _keys(a){var b=[];$$.each(a,function(a,d){!1!==d&&b.push(a)});return b}
function testSeasons(a){var b=getSeasons();a.log(_keys(b));a.log(_keys(splitSeasonArg("1234")));a.log(_keys(splitSeasonArg("123456789A")));a.log(_keys(splitSeasonArg("1,2,3,4,5,6,7,8,9,10")));a.log(_keys(splitSeasonArg("AK")));a.log(_keys(assertSeasons(getSeasons(),"1234")));a.log(_keys(deassertSeasons(getSeasons(),"1234")));a.log(_keys(assertSeasons(getSeasons(),"A")));a.log(_keys(deassertSeasons(getSeasons(),"K")));a.log("All: "+getEpList(getSeasons()).length);a.log("Sans K: "+getEpList(deassertSeasons(getSeasons(),
"K")).length);a.log("Just 10: "+getEpList(assertSeasons(getSeasons(),"A")).length);a.log("Just 2,8: "+getEpList(assertSeasons(getSeasons(),"2,8")).length);a.log(JSON.stringify(decodeEpNumber("k01")));a.log(JSON.stringify(decodeEpNumber("k02")));a.log(JSON.stringify(decodeEpNumber("101")));a.log(JSON.stringify(decodeEpNumber("313")));a.log(JSON.stringify(decodeEpNumber("1001")));a.log(JSON.stringify(decodeEpNumber("1013")));a.log(JSON.stringify(decodeEpNumber("717")));a.log(JSON.stringify(decodeEpNumber("1009")))}
function testEpRange(a){a.log(getEpRange("314-22"));a.log(getEpRange("301-05"));a.log(getEpRange("301-10"));a.log(getEpRange("309-11"));a.log(getEpRange("K01-19"));a.log(getEpRange("K00-1"));a.log(getEpRange("K21-103"));a.log(getEpRange("620-802"))}function testQueries(a){a.log(checkMstConsole("mst 107"));a.log(checkMstConsole("mst 1009"));a.log(checkMstConsole("mst 107 1009"));a.log(checkMstConsole("mst 1008,1009,313 314,315"));a.log(checkMstConsole("mst 301-8"))}
function testEpMap(a){a.log(JSON.stringify(epMap));$$.each(epMap,function(b,c){a.log(b+" => "+c.length)})}function testEpisodes(a){function b(b){var d=Episode.get(b);null==d?a.log("'"+b+"' not found."):(b=d,d=function(a){return null==a?"*":a.toString()+" - "+a.season()+"|"+a.number()},a.log(d(b.prev())+" ===> "+d(b)+" ===> "+d(b.next())))}b("K01");b("K22");b("101");b("113");b("114");b("1001");b("1013")}
node&&(module.exports={test:function(a){testEpMap(a);testSeasons(a);testQueries(a);testEpRange(a);testEpisodes(a)},Episode:Episode,Season:Season});if(node="undefined"!=typeof module&&module)var $$=require("mst"),mstlib=require("./mst3k.js");function getMst3kVizModules(){return[{name:"MST3K-Viz",precedence:1,kernel:checkMstViz}]}
function drawCalendar(a,b){var c=-1,d=-1,f=1;$$.each(b,function(a){if(-1==f||a.views.length>f)f=a.views.length;if(a=a.date.match(/^\d{4}/)){a=parseInt(a[0]);if(-1==c||a<c)c=a;if(-1==d||a>d)d=a}});-1==f&&(f=1);-1==c&&(c=2013);var d=-1==d?2014:d+1,l=d3.time.format("%w"),m=d3.time.format("%U");d3.format(".1%");var p=d3.time.format("%Y-%m-%d"),q=d3.scale.quantize().domain([-f,f]).range(d3.range(11).map(function(a){return"q"+a+"-11"})),n=d3.range(c,d);n.reverse();n=d3.select("#"+a).selectAll("svg").data(n).enter().append("svg").attr("width",
960).attr("height",136).attr("class","RdYlGn").append("g").attr("transform","translate(29.5, 16)");n.append("text").attr("transform","translate(-6,59.5)rotate(-90)").style("text-anchor","middle").text(function(a){return a});p=n.selectAll(".day").data(function(a){return d3.time.days(new Date(a,0,1),new Date(a+1,0,1))}).enter().append("rect").attr("class","day").attr("width",17).attr("height",17).attr("x",function(a){return 17*m(a)}).attr("y",function(a){return 17*l(a)}).datum(p);p.append("title").text(function(a){return a});
n.selectAll(".month").data(function(a){return d3.time.months(new Date(a,0,1),new Date(a+1,0,1))}).enter().append("path").attr("class","month").attr("d",function(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=+l(a);a=+m(a);var d=+l(b),b=+m(b);return"M"+17*(a+1)+","+17*c+"H"+17*a+"V119H"+17*b+"V"+17*(d+1)+"H"+17*(b+1)+"V0H"+17*(a+1)+"Z"});var s=d3.nest().key(function(a){return a.date}).rollup(function(a){return a[0].views.length}).map(b);p.filter(function(a){return a in s}).attr("class",function(a){return"day "+
q(s[a])}).select("title").text(function(a){return a+": "+s[a]})}
function checkMstViz(a){var b=/(^|\s)((10|[k1-9])\d{2})\s*\-?\s*((\d{4}[\.\-]\d{1,2}[\.\-]\d{1,2}(r|q|t\d*))(\s*[\,\;]\s*(\d{4}[\.\-]\d{1,2}[\.\-]\d{1,2}(r|q|t\d*)))*)/i,c=[],d={},f={};for($$.each((node?mstlib.Episode:Episode).getAll(),function(a){f[a.toString()]={ep:a,views:[]}});match=b.exec(a);){var l=(node?mstlib.Episode:Episode).get(match[2]);if(l)for(var m=match[0],p=/(\d{4}[\.\-]\d{1,2}[\.\-]\d{1,2})(r|q|t\d*)/i,q;null!=(q=p.exec(m));){var n=new Date(q[1]),s,h=n.getFullYear()+"-"+(10>(s=n.getMonth()+
1)?"0"+s:s)+"-"+(10>(s=n.getDate())?"0"+s:s);f[l.toString()].views.push(n);h in d||(d[h]={date:h,views:[]},c.push(d[h]));d[h].views.push(1);m=m.substr(q.index+q[0].length+1)}a=a.substr(match.index+match[0].length+1)}$$.each(f,function(a,b){b.views.sort(function(a,b){return+a-+b})});setTimeout(function(){drawCalendar("calendar",c);var a=$$.toArray(f),b=[],d=function(a,b){if(void 0===b||"viewCount"==b)b=a.views.length;else if("mostRecent"==b){var c=a.views;b=c.length?c[c.length-1]:"N/A"}else"leastRecent"==
b&&(c=a.views,b=c.length?c[0]:"N/A");"object"==typeof b&&(b=b.getFullYear()+"."+(b.getMonth()+1)+"."+b.getDate());return"<i>"+b+"</i> &ndash; "+a.ep.toString()+" "+a.ep.title()};a.sort(function(a,b){return-(a.views.length-b.views.length)});b.push('<div style="float: left; width: 250px;"><b>Most watched:</b>');for(var e=0;5>e&&e<a.length;++e)b.push("<br />"+d(a[e],"viewCount"));b.push("</div>");b.push('<div style="float: left; width: 250px;"><b>Least watched:</b>');for(e=a.length-1;e>=a.length-5&&
0<=e;--e)b.push("<br />"+d(a[e],"viewCount"));b.push("</div>");a.sort(function(a,b){return-((a.views.length?a.views[a.views.length-1]:0)-(b.views.length?b.views[b.views.length-1]:0))});b.push('<div style="float: left; width: 250px;"><b>Most recently watched:</b>');for(e=0;e<a.length&&5>e;++e)b.push("<br />"+d(a[e],"mostRecent"));b.push("</div>");a.sort(function(a,b){return(a.views.length?a.views[0]:0)-(b.views.length?b.views[0]:0)});b.push('<div style="float: left; width: 250px;"><b>Least recently watched:</b>');
for(e=0;e<a.length&&5>e;++e)b.push("<br />"+d(a[e],"leastRecent"));b.push("</div>");$("#stats").html(b.join(""))},1);return'<div id="stats"></div><div id="calendar" style="clear: both;" class="calendar"></div>'}
function testMstViz(){checkMstViz("Key: R - By (R)andom selection Q - By re(Q)uest T - By total viewing walk(T)hrough   1 - 2013.2.6...  MST3K 101 - 2013.2.6T1 102 - 2013.2.6T1 103 - 2013.2.7T1 104 - 2013.2.7T1 105 - 2013.2.8T1 106 - 2013.2.8T1 107 - 2013.2.11T1 108 - 2013.2.11T1 109 - 2013.2.11T1 110 - 2013.2.11T1 111 - 2013.2.12T1 112 - 2013.2.12T1 113 - 2013.2.12T1 201 - 2013.2.13T1 202 - 2013.2.13T1 203 - 2013.2.13T1 204 - 2013.2.14T1 205 - 2013.2.14T1 206 - 2013.2.15T1 207 - 2013.2.19T1, 2013.2.25Q 208 - 2013.2.19T1 209 - 2013.2.19T1 210 - 2013.2.20T1 211 - 2013.2.20T1 212 - 2013.2.22T1 213 - 2013.2.25T1 301 - 2013.2.22Q, 2013.2.27T 302 - 2013.2.27T1 303 - 2013.2.27T1 304 - 2013.2.27T1 305 - 2013.3.1T1 306 - 2013.3.1T1 307 - 2013.2.15R 308 - 309 - 310 - 311 - 312 - 313 - 314 - 315 - 316 - 317 - 2013.2.11R 318 - 319 - 320 - 321 - 322 - 323 - 324 - 401 - 402 - 403 - 404 - 405 - 406 - 407 - 408 - 409 - 410 - 411 - 412 - 413 - 414 - 415 - 416 - 417 - 418 - 419 - 420 - 421 - 2013.2.26R 422 - 423 - 424 - 501 - 502 - 503 - 504 - 505 - 506 - 507 - 508 - 509 - 510 - 511 - 512 - 513 - 514 - 515 - 516 - 517 - 518 - 519 - 520 - 521 - 522 - 523 - 524 - 601 - 602 - 603 - 2013.2.25R 604 - 605 - 606 - 2013.2.25R 607 - 608 - 609 - 610 - 611 - 612 - 2013.2.20Q 613 - 2013.2.12R 614 - 615 - 616 - 617 - 618 - 619 - 620 - 621 - 622 - 623 - 2013.2.4R 624 - TM - 701 - 702 - 703 - 704 - 705 - 706 - 707 - 801 - 802 - 803 - 804 - 805 - 806 - 807 - 808 - 809 - 810 - 811 - 812 - 813 - 814 - 815 - 816 - 817 - 818 - 819 - 820 - 821 - 822 - 901 - 902 - 903 - 904 - 905 - 906 - 907 - 908 - 909 - 910 - 911 - 912 - 913 - 2013.2.22R 1001 - 1002 - 1003 - 1004 - 1005 - 2013.2.13R 1006 - 1007 - 1008 - 1009 - 1010 - 1011 - 2013.2.15R 1012 - 1013 -  TFC KFS - 2013.2.19Q, 2013.2.20Q")}
node&&(module.exports={test:function(a){testMstViz(a)}});"use strict";function getRand(a){null==a&&(a=32);for(var b=[],c=0;c<a;++c)b.push("abcdefghjijklmnopqrstuvwxyzABCDEFGHJIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(64*Math.random())));return b.join("")}
var actuate=function(){var a=getColorsModules().concat(getNumbersModules()).concat(getDefaultModules()).concat(getPlottingModules()).concat(getMst3kModules()).concat(getMst3kVizModules());a.sort(function(a,c){return-(a.precedence-c.precedence)});return function(b){for(var c=0;c<a.length;++c){var d=a[c].kernel(b);if(!(null==d||!1===d))if(!0===d)break;else if("string"==typeof d){$("#results").html(d);break}}}}();
function getDefaultModules(){return[{name:"HelpMenu",precedence:0,kernel:function(a){return a.match(/^\s*help\s*$/i)?helpContents:null}},{name:"Default",precedence:0,kernel:function(a){return""==a?"":"what is this I don't even"}}]}var helpContents;
$(document).ready(function(){function a(){$("#results").hide("fast",function(){actuate($("#twsc").val());$("#results").show("fast")})}helpContents=$("#results").html();jstz.determine().name();var b=!0;$("#twsc").keyup(function(c){c&&13===c.which&&(b?(b=!1,$("#image").slideUp("fast",function(){a()})):a())})});
